3)
PIC EQU 20H
PIO EQU 30H
INT0 EQU 10

ORG 40
GESTOR_INT0 DW GESTOR0

ORG 1000H
CADENA DB "PRESIONE F10 PARA COMENZAR"
CHAR DB ?

ORG 3000H
CONFIGURAR_PIO:
MOV AL,1
OUT PIO+2,AL
DEC AL
OUT PIO+3,AL
RET

CONFIGURAR_PIC:
IN AL,PIC+1
AND AL,11111110B
OUT PIC+1,AL
MOV AL,INT0
OUT PIC+4,AL
RET

GESTOR0:
MOV CL,5
MOV BX,OFFSET CHAR
FOR:
INT 6
MOV AH,[BX]
INT 6
MOV AL,[BX]
PUSH AX
DEC CL
JNZ FOR
CALL IMPRIMIR
TERMINAR:
POP AX
INC CL
CMP CL,5
JNZ TERMINAR
IRET

IMPRIMIR:
MOV BX,SP
ADD BX,11
MOV CL,10
ESPERAR:
IN AL,PIO
AND AL,1
JNZ ESPERAR
IN AL,PIO
AND AL,1
OUT PIO,AL
MOV AL,[BX]
OUT PIO+1,AL
IN AL,PIO
OR AL,10B
OUT PIO,AL
DEC BX
DEC CL
JNZ ESPERAR
RET

ORG 2000H
CALL CONFIGURAR_PIO
CALL CONFIGURAR_PIC
MOV BX,OFFSET CADENA
MOV AL,OFFSET CHAR-OFFSET CADENA
INT 7
LOOP: JMP LOOP
HLT
END
