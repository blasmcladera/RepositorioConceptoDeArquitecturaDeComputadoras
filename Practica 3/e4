4.A)
PIC EQU 20H
INT0_DIREC EQU 10

ORG 40
GESTOR_INT0 DW GESTOR_0

ORG 3000H
GESTOR_0:
MOV BX,OFFSET CADENA
MOV AL, OFFSET FIN_ - OFFSET CADENA
INT 7
MOV BX,OFFSET FIN_
MOV AL,1
INT 7
;INDICO QUE FINALIZA INT
MOV AL,20H
OUT PIC,AL
IRET

ORG 1000H
CADENA DB "Vamos las interrupciones!"
FIN_ DB 10

ORG 2000H
;DESENMASCARO INT0
IN AL,PIC+1
AND AL,11111110B
OUT PIC+1,AL
;CARGO DIREC DE VECTOR INT0
MOV AL,INT0_DIREC
OUT PIC+4,AL
LOOP: JMP LOOP
END

4.B)
PIC EQU 20H
INT0_DIREC EQU 10

ORG 40
GESTOR_INT0 DW GESTOR_0

ORG 3000H
GESTOR_0:
MOV BX,OFFSET CADENA
MOV AL, OFFSET FIN_ - OFFSET CADENA
INT 7
MOV BX,OFFSET FIN_
MOV AL,1
INT 7
INC CL
;COMPARO SI ES LA QUINTA VEZ
CMP CL,5
JNZ SIGO
;ENMASCARO INT0
IN AL,PIC+1
OR AL,1
OUT PIC+1,AL
HLT
;INDICO QUE FINALIZA INT
SIGO:
MOV AL,20H
OUT PIC,AL
IRET

ORG 1000H
CADENA DB "Vamos las interrupciones!"
FIN_ DB 10

ORG 2000H
;DESENMASCARO INT0
IN AL,PIC+1
AND AL,11111110B
OUT PIC+1,AL
MOV CL,0
;CARGO DIREC DE VECTOR INT0
MOV AL,INT0_DIREC
OUT PIC+4,AL
LOOP: JMP LOOP
END
