5.A)
;CONFIGURO TIMER
CONT EQU 10H
PIC EQU 20H
V_TIMER EQU 10

ORG 40
GESTOR_TIMER DW GESTOR_INT1

ORG 3000H
GESTOR_INT1:
PUSH AX
PUSH BX
MOV BX,OFFSET CADENA
MOV AL,OFFSET FIN_ - OFFSET CADENA
INT 7
MOV BX,OFFSET FIN_
MOV AL,1
INT 7
;DEJO RELOJ EN 0 Y VUELVO A MAIN
MOV AL,20H
OUT PIC,AL
POP BX
MOV AL,0
OUT CONT,AL
POP AX
IRET

ORG 1000H
CADENA DB "Vamos las interrupciones!"
FIN_ DB 10

ORG 2000H
;ACTIVO INT1
IN AL,PIC+1
AND AL,11111101B
OUT PIC+1,AL
MOV AL,V_TIMER
OUT PIC+5,AL
;SETEO COMP EN 2
MOV AL,2
OUT CONT+1,AL
;INICIO RELOJ EN 0
MOV AL,0
OUT CONT,AL
LOOP: JMP LOOP
END

5.B)
;CONFIGURO TIMER
CONT EQU 10H
PIC EQU 20H
V_TIMER EQU 10

ORG 40
GESTOR_TIMER DW GESTOR_INT1

ORG 3000H
GESTOR_INT1:
PUSH AX
PUSH BX
MOV BX,OFFSET CADENA
MOV AL,OFFSET FIN_ - OFFSET CADENA
INT 7
MOV BX,OFFSET FIN_
MOV AL,1
INT 7
;DEJO RELOJ EN 0 Y VUELVO A MAIN
MOV AL,20H
OUT PIC,AL
POP BX
DEC CL
CMP CL,0
JNZ SIGO
;DESACTIVO INT1
IN AL,PIC+1
OR AL,10B
OUT PIC+1,AL
HLT
SIGO:
MOV AL,0
OUT CONT,AL
POP AX
IRET

ORG 1000H
CADENA DB "Vamos las interrupciones!"
FIN_ DB 10

ORG 2000H
;ACTIVO INT1
IN AL,PIC+1
AND AL,11111101B
OUT PIC+1,AL
MOV AL,V_TIMER
OUT PIC+5,AL
;SETEO COMP EN 2
MOV AL,2
OUT CONT+1,AL
;INICIO RELOJ EN 0
MOV AL,0
OUT CONT,AL
;INICIO CONTADOR CL
MOV CL,5
LOOP: JMP LOOP
END

5.C)
;CONFIGURO TIMER
CONT EQU 10H
PIC EQU 20H
V_TIMER EQU 10

ORG 40
GESTOR_TIMER DW GESTOR_INT1

ORG 3000H
GESTOR_INT1:
PUSH AX
PUSH BX
MOV BX,OFFSET CADENA
MOV AL,OFFSET FIN_ - OFFSET CADENA
INT 7
MOV BX,OFFSET FIN_
MOV AL,1
INT 7
;DESACTIVO INT1
IN AL,PIC+1
OR AL,10B
OUT PIC+1,AL
;DEJO RELOJ EN 0 Y VUELVO A MAIN
MOV AL,20H
OUT PIC,AL
MOV AL,0
OUT CONT,AL
POP AX
POP BX
HLT
IRET

ORG 1000H
CADENA DB "Vamos las interrupciones!"
FIN_ DB 10

ORG 2000H
;ACTIVO INT1
IN AL,PIC+1
AND AL,11111101B
OUT PIC+1,AL
MOV AL,V_TIMER
OUT PIC+5,AL
;SETEO COMP EN 10
MOV AL,10
OUT CONT+1,AL
;INICIO RELOJ EN 0
MOV AL,0
OUT CONT,AL
LOOP: JMP LOOP
END

5.D)
;CONFIGURO TIMER
CONT EQU 10H
PIC EQU 20H
V_TIMER EQU 10

ORG 40
GESTOR_TIMER DW GESTOR_INT1

ORG 3000H
GESTOR_INT1:
PUSH AX
PUSH BX
MOV BX,OFFSET CADENA
MOV AL,OFFSET FIN_ - OFFSET CADENA
INT 7
MOV BX,OFFSET FIN_
MOV AL,1
INT 7
;AUMENTO COMP
IN AL,CONT+1
INC AL
CMP AL,0
JNZ SIGO
HLT
SIGO:
OUT CONT+1,AL
;DEJO RELOJ EN 0 Y VUELVO A MAIN
MOV AL,20H
OUT PIC,AL
POP BX
MOV AL,0
OUT CONT,AL
POP AX
IRET

ORG 1000H
CADENA DB "Vamos las interrupciones!"
FIN_ DB 10

ORG 2000H
;ACTIVO INT1
IN AL,PIC+1
AND AL,11111101B
OUT PIC+1,AL
MOV AL,V_TIMER
OUT PIC+5,AL
;SETEO COMP EN 1
MOV AL,1
OUT CONT+1,AL
;INICIO RELOJ EN 0
MOV AL,0
OUT CONT,AL
LOOP: JMP LOOP
END

















