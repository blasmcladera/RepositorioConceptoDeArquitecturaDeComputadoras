5)
PIO EQU 30H

ORG 1000H
CADENA DB "Arquitectura de Computadoras: ACTIVADA"
FIN_ DB ?

ORG 3000H
SUBRUTINA_A:
MOV AH,0
IN AL,PIO
CMP AL,0
JZ FIN
MOV AH,1
FIN:
RET

SUBRUTINA_B:
IN AL,PIO
NOT AL
OUT PIO+1,AL
RET

SUBRUTINA_C:
IN AL,PIO
AND AL,1
JZ FIN2
MOV BX,OFFSET CADENA
MOV AL,OFFSET FIN_ - OFFSET CADENA
INT 7
FIN2:
RET

ORG 2000H
MOV AL,0FFH
OUT PIO+2,AL
MOV AL,0
OUT PIO+3,AL
CALL SUBRUTINA_A
CMP AH,0
JZ FIN3
CALL SUBRUTINA_B
CALL SUBRUTINA_C
FIN3:
HLT
END

