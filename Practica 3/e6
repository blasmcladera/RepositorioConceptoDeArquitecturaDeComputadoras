6.A)
CONT EQU 10H
PIC EQU 20H
V_INT0 EQU 10
V_INT1 EQU 11

ORG 40
GESTOR_INT0 DW GESTOR0
ORG 44
GESTOR_INT1 DW GESTOR1

ORG 3000H
GESTOR0:
MOV DX,0FFFFH
MOV AL,20H
OUT PIC,AL
IRET

GESTOR1:
MOV AL,1
INT 7
MOV AH,[BX]
DEC AH
MOV [BX],AH
DEC CL
CMP CL,0
JNZ SEGUIR
HLT
SEGUIR:
MOV AL,20H
OUT PIC,AL
MOV AL,0
OUT CONT,AL
IRET

ORG 1000H
NUM DB ?

ORG 2000H
;DESENMASCARO INTO E INT1
IN AL,PIC+1
AND AL,11111100B
OUT PIC+1,AL
;CARGO VECTORES
MOV AL,V_INT0
OUT PIC+4,AL
MOV AL,V_INT1
OUT PIC+5,AL
;ESPERO CUENTA REGRESIVA
MOV BX,OFFSET NUM
INT 6
MOV CX,0
MOV CL,BYTE PTR[BX]
SUB CL,2FH
LOOP: 
CMP DX,0FFFFH
JNZ LOOP
;SETEO COMP EN 1
MOV AL,1
OUT CONT+1,AL
;ARRANCO RELOJ
MOV AL,0
OUT CONT,AL
INF: JMP INF
END

6.B)
