9.A)
PIO EQU 30H
ORG 2000H
MOV AL,0
OUT PIO+3,AL
MOV AL,1
OUT PIO+2,AL
MOV AL,'A'
OUT PIO+1,AL
MOV AL,2
LOOP:
;ESPERO A QUE SE LIBERE LA IMPRESORA
PUSH AX
IN AL,PIO
AND AL,00000001
POP AX
JNZ LOOP
OUT PIO,AL
SUB AL,2
JMP LOOP
HLT
END

9.B)
PIO EQU 30H
ORG 3000H
MSG DB "ORGANIZACION Y ARQUITECTURA DE COMPUTADORAS"
DIF DB ?
ORG 2000H
MOV BX,OFFSET MSG
MOV CL,OFFSET DIF-OFFSET MSG
;CONFIGURO IMPRESORA
MOV AL,0
OUT PIO+3,AL
MOV AL,1
OUT PIO+2,AL
LOOP:
CMP CL,0
JZ FIN
;ESPERO A QUE SE LIBERE LA IMPRESORA
PUSH AX
IN AL,PIO
AND AL,00000001
POP AX
JNZ LOOP
;PONGO STROBE EN 0
IN AL,PIO
AND AL,00000001
OUT PIO,AL
;TRABAJO
MOV AL,[BX]
INC BX
DEC CL
;CARGO CARACTER
OUT PIO+1,AL
;PONGO STROBE EN 1
MOV AL,2
OUT PIO,AL
;REPITO LOOP
JMP LOOP
FIN:
HLT
END

9.C)
PIO EQU 30H
ORG 1000H
CHAR DB ?
ORG 2000H
;CONFIGURO IMPRESORA
MOV AL,1
OUT PIO+2,AL
DEC AL
OUT PIO+3,AL
;CARGO DIRECCION Y CANT DE CHARS
MOV BX,OFFSET CHAR
MOV CL,5
LOOP:
;CHEQUEO QUE LA IMPRESORA NO ESTE OCUPADA
PUSH AX
IN AL,PIO
AND AL,1
JNZ LOOP
;PONGO STROBE EN 0
MOV AL,0
OUT PIO,AL
;INGRESO CARACTER
INT 6
MOV AL,[BX]
;CARGO CARACTER EN PB
OUT PIO+1,AL
;PONGO STROBE EN 1
MOV AL,2
OUT PIO,AL
;VUELVO AL LOOP
DEC CL
CMP CL,0
JNS LOOP
HLT
END

9.D)

PIO EQU 30H
PIC EQU 20H

;CONFIGURO INT 0
POS_INTF10 EQU 10
ORG 40
DIREC_GESTORF10 DW GESTORF10
ORG 3000H
GESTORF10:
MOV BX,OFFSET CHARS
;ESPERO SI ESTA BUSY
LOOP:
PUSH AX
IN AL,PIO
AND AL,1
POP AX
JNZ LOOP
;PONGO STROBE EN 0
IN AL,PIO
AND AL,1B
OUT PIO,AL
;CARGO CHAR A IMPRIMIR
MOV AL,[BX]
OUT PIO+1,AL
;PONGO STROBE EN 1
IN AL,PIO
OR AL,10B
OUT PIO,AL
;AVANZO EN EL VECTOR DE CHARS
INC BX
DEC CL
JNZ LOOP
IRET

ORG 1000H
CHARS DB ?

ORG 2000H
;CONFIGURO PIC PARA HABILITAR INT0
IN AL,PIC+1
XOR AL,1
OUT PIC+1,AL
;CARGO INT 0
MOV AL,POS_INTF10
OUT PIC+4,AL
;CONFIGURO PIO PARA IMPRESORA
MOV AL,1
OUT PIO+2,AL
MOV AL,0
OUT PIO+3,AL
;INGRESO CHARS ESPERANDO INT 0
MOV BX,OFFSET CHARS
MOV CL,0
BUCLE:
INT 6
INC BX
INC CL
JMP BUCLE
HLT
END
